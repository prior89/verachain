"use strict";(self.webpackChunkverachain_frontend=self.webpackChunkverachain_frontend||[]).push([[402],{402:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var c=a(43),t=a(216),r=a(579);const n="SCANNING_PRODUCT",i="PRODUCT_VERIFIED",o="SCANNING_CERTIFICATE",l="COMPLETE",u=()=>{const e=(0,t.Zp)(),s=(0,c.useRef)(null),[a,u]=(0,c.useState)(n),[d,m]=(0,c.useState)(null);c.useEffect(()=>(N(),()=>{d&&d.getTracks().forEach(e=>e.stop())}),[]);const N=async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});s.current&&(s.current.srcObject=e),m(e)}catch(e){console.error("Error accessing camera:",e)}},h=(0,c.useCallback)(()=>{a===n?setTimeout(()=>{u(i),setTimeout(()=>{u(o)},2e3)},3e3):a===o&&setTimeout(()=>{u(l),setTimeout(()=>{e("/certificates")},2e3)},3e3)},[a,e]);return(0,r.jsxs)("div",{className:"scan-container",children:[(0,r.jsxs)("div",{className:"scan-header",children:[(0,r.jsx)("button",{className:"back-button",onClick:()=>e("/"),children:"[Back]"}),(0,r.jsx)("span",{className:"scan-title",children:"AUTHENTICATION"})]}),(0,r.jsxs)("div",{className:"camera-view",children:[(0,r.jsx)("video",{ref:s,autoPlay:!0,playsInline:!0,className:"camera-feed"}),(0,r.jsxs)("div",{className:"scan-overlay",children:[(0,r.jsx)("div",{className:"corner-bracket top-left"}),(0,r.jsx)("div",{className:"corner-bracket top-right"}),(0,r.jsx)("div",{className:"corner-bracket bottom-left"}),(0,r.jsx)("div",{className:"corner-bracket bottom-right"}),(0,r.jsx)("div",{className:"scan-ring",onClick:h})]})]}),(0,r.jsx)("div",{className:"scan-status ".concat((()=>{switch(a){case i:case l:return"status-success";default:return""}})()),children:(0,r.jsx)("p",{className:"status-text",children:(()=>{switch(a){case n:return"Scan product barcode";case i:return"Product verified! Now scan certificate";case o:return"Scanning certificate...";case l:return"Authentication complete!";default:return""}})()})})]})}}}]);
//# sourceMappingURL=402.ecf08ec5.chunk.js.map